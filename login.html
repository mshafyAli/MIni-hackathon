<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="signup.css">


    <!-- font Awesome icons link -->
    <script src="https://kit.fontawesome.com/d9eacc3695.js" crossorigin="anonymous"></script>


    <!-- bootstap -->
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"
        integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.min.js"
        integrity="sha384-Rx+T1VzGupg4BHQYs2gCW9It+akI2MM/mndMCy36UVfodzcJcF0GGLxZIzObiEfa"
        crossorigin="anonymous"></script>

    <title>Personal Blog app</title>
</head>

<body>

    <div class="header">
        <h1 class="main-heading">Personal Blogging App</h1>
        <a class="sign-in" href="signup.html">SignUp</a> 

    </div>

    <nav>
        <h1>Login

        </h1>
    </nav>

    <div class="container">
        <div class="form-box">

            <form id="loginForm">
                <div class="input-group">
                  
                    <div class="input-field">
                        <!-- <i class="fa-solid fa-envelope"></i> -->
                        <input type="email" id="email" placeholder="Email@gmail.com">
                    </div>
                    <div class="input-field">
                        <!-- <i class="fa-solid fa-lock"></i> -->
                        <input type="password" id="password" placeholder="password">
                    </div>
                    
                    <!-- <p>Already a member?<a href="login.html">Login</a></p> -->
                </div>
                <div class="btn-field">
                    <button type="submit" >login</button>
                </div>
            </form>
        </div>
    </div>


    <script type="module">
        // Import the functions you need from the SDKs you need
        import { initializeApp } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-app.js";
        import { getAnalytics } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-analytics.js";
       // import { getAuth, signInWithCustomToken } from "firebase/auth";
        import {getAuth, createUserWithEmailAndPassword, signInWithEmailAndPassword, signOut} from "https://www.gstatic.com/firebasejs/9.23.0/firebase-auth.js"
        // TODO: Add SDKs for Firebase products that you want to use
        // https://firebase.google.com/docs/web/setup#available-libraries
      
        // Your web app's Firebase configuration
        // For Firebase JS SDK v7.20.0 and later, measurementId is optional
        const firebaseConfig = {
      apiKey: "AIzaSyBY4I7RIPu32_ALN3Ra92KMl8bQv5f7VBI",
      authDomain: "authentication-app-c3140.firebaseapp.com",
      projectId: "authentication-app-c3140",
      storageBucket: "authentication-app-c3140.appspot.com",
      messagingSenderId: "857644973815",
      appId: "1:857644973815:web:808f6f228614540e539df2"
    };
        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const analytics = getAnalytics(app);  
  
        const auth = getAuth();
  
        let element = document.querySelector("#loginForm");

element.addEventListener("submit", (event) => {
    event.preventDefault();

    let email = document.querySelector("#email").value;
    let password = document.querySelector("#password").value;

    if (email === "" || password === "") {
        alert("Both email and password are required.");
        return;
    }

    signInWithEmailAndPassword(auth, email, password)
        .then((userCredential) => {
            // Signed in
            const user = userCredential.user;
            console.log(user);
            alert("Login successful");
            window.location = "index.html";
        })
        .catch((error) => {
            const errorCode = error.code;
            const errorMessage = error.message;
            console.log(errorMessage);
            alert("Login failed: " + errorMessage);
        });
});


        // let element=document.querySelector("#loginForm");
        // element.addEventListener("submit",(event)=>{
        //     event.preventDefault();

        //   let email=document.querySelector("#email").value;
        //   let password=document.querySelector("#password").value;
  
        //   signInWithEmailAndPassword(auth, email, password)
        //  .then((userCredential) => {
        //    // Signed in
        //   const user = userCredential.user;
        //   console.log(user)
        //   alert("login successfully")
        //   window.location="index.html";
          
        // })
        //    .catch((error) => {
        //    const errorCode = error.code;
        //     const errorMessage = error.message;
        //     console.log(errorMessage)
        //     alert("login does not occur successfully")
        //     // ...
        //   });
          
        // })
  
  
      
      </script>



</body>

</html>